
# Water Reminder Telegram Bot (Free deploy)

Готовый минимальный проект Telegram-бота, который:
- Напоминает пить воду в заданные часы
- При первом запуске отправляет приветствие и ссылку на статью
- Позволяет админ-юзеру добавлять и удалять сообщения через команды
- Работает бесплатно на Render (с использованием UptimeRobot для поддержания активности)

## Файлы проекта
- `bot.py` — основной код
- `messages.json` — список сообщений (можно редактировать вручную или через админ-команды)
- `requirements.txt` — зависимости
- `.env.example` — пример переменных окружения
- `init_db.py` — вспомогательный скрипт инициализации БД

## Быстрый запуск локально (для теста)
1. Установи Python 3.10+ и pip.
2. Склонируй эту папку и создай виртуальное окружение:
   ```bash
   python -m venv venv
   source venv/bin/activate   # Linux / macOS
   venv\\Scripts\\activate    # Windows
   pip install -r requirements.txt
   ```
3. Создай файл `.env` по образцу `.env.example` и вставь твой `BOT_TOKEN` и `ADMIN_ID`.
4. Запусти бот:
   ```bash
   python bot.py
   ```
5. Отправь боту `/start` — он зарегистрирует тебя и пришлёт приветствие.

## Шаги для бесплатного хостинга на Render (пошагово)
1. Зарегистрируй аккаунт на https://render.com (можно через GitHub).
2. Создай репозиторий на GitHub и запушь в него этот проект.
3. На Render нажми **New** → **Web Service**.
4. Выбери подключение к GitHub и нужный репозиторий.
5. Branch: `main` (или та ветка, где код).
6. Runtime: Python. Build Command: `pip install -r requirements.txt`. Start Command: `python bot.py`.
7. В разделе **Environment** добавь переменные окружения: `BOT_TOKEN`, `ADMIN_ID`. (PORT выставляется автоматически).
8. Выбери **Free** plan и нажми **Create Web Service** — Render развернёт приложение. Документация: https://render.com/docs/your-first-deploy

> Примечание: на бесплатном плане Render «усыпляет» сервисы при 15+ минутах простоя. Чтобы этого избежать, мы добавим мониторинг (см. ниже).

## Настройка UptimeRobot (чтобы сервис не засыпал)
1. Зарегистрируйся на https://uptimerobot.com и войди в панель.
2. Нажми **+ Add New Monitor**.
3. Тип мониторинга: **HTTP(s)** или **Ping**.
4. В поле URL подставь `https://<твoй-домен-на-render>/healthz` (этот роут есть в `bot.py`).
5. Интервал: **5 минут** (доступно бесплатно).
6. Нажми **Create Monitor**.
Документация: https://uptimerobot.com/knowledge-hub/monitoring/

## Как редактировать тексты напоминаний
- Ручной вариант: открой `messages.json` и добавь/изменяй строки.
- Через бота (админ): отправь `/add_message Текст` или `/remove_message Номер` (только если твой Telegram ID совпадает с ADMIN_ID).

## Примечания и рекомендации
- Админ-команды работают только для ADMIN_ID (см `.env.example`).
- Сервис на бесплатном Render подходит для хобби-проекта. Для промышленных целей лучше использовать платный хостинг.
